# SpaceAir

# Simple Visit Logger

This project is a deliberately tiny Express app that serves a single HTML page.
Each time the page loads, the browser sends a POST request to `/api/visit`.
The server appends the request data to `data/visits.log` so you can review the
latest visitors later.

## Requirements

- Node.js 18 or newer (matches most free hosting providers)
- npm (ships with Node)

## Local development

```bash
npm install
npm run dev
```

Open <http://localhost:3000> and every visit will be appended to
`data/visits.log`. The file is created automatically (including its parent
directory) on first run. Up to 100 of the most recent entries are also available
via `GET /api/visits/latest`.

### Log format

The log file stores tab-separated values with the following columns:

1. `timestamp` – ISO-8601 string generated by the server
2. `ip` – IP address as reported to Express (trusts the first proxy header)
3. `timezone` – Value reported by the browser
4. `userAgent` – Standard user-agent header

Rotate or truncate `data/visits.log` as needed if the file grows large; a simple
`> data/visits.log` while the server is stopped is enough for most tests.

## Free hosting suggestion (Render)

1. Push this folder to a new GitHub repository.
2. Create an account at <https://render.com/> (free tier).
3. Choose **New +** → **Web Service**, connect the repo, and pick the `main`
   branch.
4. Set **Build Command** to `npm install` and **Start Command** to `npm run start`.
5. Choose the free instance type, create the service, and wait for the build.
6. Render will assign a public URL (HTTPS). Every visit to that URL hits
   `index.js`, logs the visit, and serves the static page.

Render automatically sets the `PORT` environment variable, which the app already
honors. Railways, Fly.io, and cyclic.sh follow essentially the same steps if
you prefer a different provider—just ensure Node 18+ is selected.

## Operational notes

- The API limits the JSON body to 5 KB and sanitizes newline/tab characters
  before writing to disk.
- Only the last 100 visits are exposed by the helper endpoint to avoid
  excessive memory use; read the `visits.log` file directly for the full
  history.
- Consider adding authentication (e.g., HTTP Basic via a proxy) before exposing
  `/api/visits/latest` publicly since it reveals metadata about visitors.

